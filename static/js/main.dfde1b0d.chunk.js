(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,a){e.exports=a(403)},237:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(55),r=a.n(l),i=(a(237),a(221)),c=a(28),s=a(29),d=a(31),m=a(30),h=a(32),u=a(412),p=a(413),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={input:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},function(){t.props.filterContractors(t.state.input)})}},{key:"render",value:function(){return o.a.createElement(u.a,{className:"searchbar"},o.a.createElement(p.a,{placeholder:"Search...",value:this.state.input,onChange:this.handleChange.bind(this)}))}}]),t}(n.Component),C=a(420),g=a(416),E=a(421),v=a(419),b=a(57),y=a(93),D=a(418),F=a(415),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={data:{firstName:"",lastName:"",company:"",phone:"",id:"",notes:"",uuid:""}},a.onChange=function(e){var t=Object(y.a)({},a.state.data,Object(b.a)({},e.target.name,e.target.value));a.setState({data:t}),a.props.editFormData(t)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.el})}},{key:"render",value:function(){var e=this.state.data;return o.a.createElement(D.a,{style:{padding:"2em"}},o.a.createElement(D.a.Group,{widths:"equal"},o.a.createElement(D.a.Field,{id:"form-input-control-first-name",control:p.a,label:"First name",name:"firstName",placeholder:"First name",value:e.firstName,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-last-name",control:p.a,name:"lastName",label:"Last name",placeholder:"Last name",value:e.lastName,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-company",control:p.a,name:"company",label:"Company",placeholder:"Company",value:e.company,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-phone",control:p.a,name:"phone",label:"Phone",placeholder:"Phone",value:e.phone,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-id",control:p.a,name:"id",label:"ID",placeholder:"ID",value:e.id,onChange:this.onChange})),o.a.createElement(D.a.Field,{id:"form-textarea-control-notes",control:F.a,name:"notes",label:"Notes",placeholder:"Notes",value:e.notes,onChange:this.onChange}))}}]),t}(n.Component),S=a(212),j=a.n(S),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={column:null,data:[],direction:null,delConfirmOpen:!1,editing:!1,editingEl:{},toDelete:""},a.openDelConfirm=function(e){return a.setState({delConfirmOpen:!0,toDelete:e})},a.closeDelConfirm=function(){return a.setState({delConfirmOpen:!1,toDelete:""})},a.delete=function(){a.closeDelConfirm(),a.props.deleteContractor(a.state.toDelete)},a.handleSort=function(e){return function(){var t=a.state,n=t.column,o=t.data,l=t.direction;n===e?a.setState({data:o.reverse(),direction:"ascending"===l?"descending":"ascending"}):a.setState({column:e,data:j.a.sortBy(o,[e]),direction:"ascending"})}},a.startEditing=function(e){a.setState({editing:!0,editingEl:e})},a.cancelEditing=function(){a.setState({editing:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state,a=t.column,n=t.data,l=t.direction;return o.a.createElement(C.a,{compact:!0,padded:!0,fixed:!0,sortable:!0},o.a.createElement(g.a,{open:this.state.delConfirmOpen,onCancel:this.closeDelConfirm,onConfirm:this.delete}),o.a.createElement(C.a.Header,{fullWidth:!0},o.a.createElement(C.a.Row,null,o.a.createElement(C.a.HeaderCell,{sorted:"firstName"===a?l:null,onClick:this.handleSort("firstName")},"First Name"),o.a.createElement(C.a.HeaderCell,{sorted:"lastName"===a?l:null,onClick:this.handleSort("lastName")},"Last Name"),o.a.createElement(C.a.HeaderCell,{sorted:"company"===a?l:null,onClick:this.handleSort("company")},"Company"),o.a.createElement(C.a.HeaderCell,{sorted:"phone"===a?l:null,onClick:this.handleSort("phone")},"Phone"),o.a.createElement(C.a.HeaderCell,{sorted:"notes"===a?l:null,onClick:this.handleSort("notes")},"Notes"),o.a.createElement(C.a.HeaderCell,{width:"2"}))),o.a.createElement(C.a.Body,null,n.map(function(t,a){return o.a.createElement(C.a.Row,{key:a},o.a.createElement(C.a.Cell,null,t.firstName),o.a.createElement(C.a.Cell,null,t.lastName),o.a.createElement(C.a.Cell,null,t.company),o.a.createElement(C.a.Cell,null,t.phone),o.a.createElement(C.a.Cell,null,t.notes),o.a.createElement(C.a.Cell,{textAlign:"center",style:{display:"flex",justifyContent:"space-around"}},o.a.createElement(E.a,{size:"mini",compact:!0,onClick:function(){return e.startEditing(t)}},"Edit"),o.a.createElement(E.a,{size:"mini",compact:!0,negative:!0,onClick:function(){return e.openDelConfirm(t.uuid)}},"Delete")))}),o.a.createElement(v.a,{onClose:this.cancelEditing,size:"large",open:this.state.editing},o.a.createElement(O,{el:this.state.editingEl,editFormData:this.props.editFormData}),o.a.createElement(v.a.Actions,null,o.a.createElement(E.a,{negative:!0,onClick:this.cancelEditing},"Cancel"),o.a.createElement(E.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Change",onClick:function(){e.props.doneEditing(),e.cancelEditing()}})))),o.a.createElement(C.a.Footer,null,o.a.createElement(C.a.Row,null,o.a.createElement(C.a.HeaderCell,{colSpan:"6"},this.props.msg||"Found: "+this.state.data.length))))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={data:{firstName:"",lastName:"",company:"",phone:"",id:"",notes:""}},a.onChange=function(e){var t=Object(y.a)({},a.state.data,Object(b.a)({},e.target.name,e.target.value));a.setState({data:t}),a.props.addFormData(t)},a.onSubmit=function(){var e=a.state.data;for(var t in a.props.addData(Object.assign({},e)),e)e[t]="";a.setState({data:e})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.data;return o.a.createElement(D.a,{style:{padding:"2em"},onSubmit:this.onSubmit},o.a.createElement(D.a.Group,{widths:"equal"},o.a.createElement(D.a.Field,{id:"form-input-control-first-name",control:p.a,label:"First name",name:"firstName",placeholder:"First name",value:e.firstName,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-last-name",control:p.a,name:"lastName",label:"Last name",placeholder:"Last name",value:e.lastName,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-company",control:p.a,name:"company",label:"Company",placeholder:"Company",value:e.company,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-phone",control:p.a,name:"phone",label:"Phone",placeholder:"Phone",value:e.phone,onChange:this.onChange}),o.a.createElement(D.a.Field,{id:"form-input-control-id",control:p.a,name:"id",label:"ID",placeholder:"ID",value:e.id,onChange:this.onChange})),o.a.createElement(D.a.Field,{id:"form-textarea-control-notes",control:F.a,name:"notes",label:"Notes",placeholder:"Notes",value:e.notes,onChange:this.onChange}))}}]),t}(n.Component),w=a(423),A=a(417),L=a(422),z=a(130),I=a.n(z);a(399);I.a.initializeApp({apiKey:"AIzaSyClL989vzUCVh1DoPpyF8z8mNB9oYgAI3c",authDomain:"contractor-list.firebaseapp.com",databaseURL:"https://contractor-list.firebaseio.com",projectId:"contractor-list",storageBucket:"contractor-list.appspot.com",messagingSenderId:"957554680223"});var H=I.a,P=H.database().ref("contractors"),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={data:[],filtered:[],filter:"",editing:!1,editFormData:{},addFormData:{},modalOpen:!1,fetching:!0},a.addData=function(e){P.push(e),a.setState({addFormData:{}})},a.editFormData=function(e){a.setState({editFormData:e})},a.doneEditing=function(){H.database().ref("/contractors/".concat(a.state.editFormData.uuid)).update(a.state.editFormData),a.setState({editFormData:{}})},a.deleteContractor=function(e){H.database().ref("/contractors/".concat(e)).remove()},a.filterContractors=function(e){a.setState({filter:e});var t=Object(i.a)(a.state.data);a.setState({filtered:[]});var n=t.filter(function(t,a){for(var n in t)if(t[n]+="","uuid"!==n&&t[n]&&t[n].toLowerCase().match(e.toLowerCase()))return t;return null});a.setState({filtered:n})},a.addFormData=function(e){a.setState({addFormData:e})},a.submitFormData=function(){a.addData(a.state.addFormData),a.handleClose()},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.on("value",function(t){var a=t.val(),n=[];for(var o in a)n.push({uuid:o,firstName:a[o].firstName,lastName:a[o].lastName,company:a[o].company,id:a[o].id,phone:a[o].phone,notes:a[o].notes});e.setState({data:n},function(){e.setState({filtered:e.state.data,fetching:!1})})})}},{key:"render",value:function(){var e="";return 0!==this.state.filtered.length||this.state.fetching||(e="Nothing found..."),this.state.fetching&&(e="Fetching data..."),o.a.createElement(u.a,null,o.a.createElement(w.a,{content:"\ud83d\udc77 Contractor List",style:{fontSize:"4em",fontWeight:"normal",marginBottom:0,paddingTop:"1em"}}),o.a.createElement(A.a,null),o.a.createElement("div",{className:"top-bar"},o.a.createElement(f,{filterContractors:this.filterContractors}),o.a.createElement(v.a,{size:"large",open:this.state.modalOpen,onClose:this.handleClose,trigger:o.a.createElement(E.a,{primary:!0,onClick:this.handleOpen},"Add")},o.a.createElement(k,{addFormData:this.addFormData,addData:this.addData}),o.a.createElement(v.a.Actions,null,o.a.createElement(E.a,{negative:!0,onClick:this.handleClose},"Cancel"),o.a.createElement(E.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Add",onClick:this.submitFormData})))),o.a.createElement(N,{msg:e,data:this.state.filtered,deleteContractor:this.deleteContractor,editFormData:this.editFormData,doneEditing:this.doneEditing}),o.a.createElement(L.a,{vertical:!0,style:{padding:"1em 0em"}}))}}]),t}(n.Component);r.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[232,2,1]]]);
//# sourceMappingURL=main.dfde1b0d.chunk.js.map